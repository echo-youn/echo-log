# Annotation & Reflection

## 어노테이션 적용

코틀린에서는 자바와 같은 방법으로 어노테이션을 사용할 수 있다.
어노테이션을 적용하려면 적용하려는 대상 앞에 어노테이션을 붙이면 된다.
어노테이션은 `@어노테이션명`으로 이루어져 있다.

어노테이션은 함수, 클래스, 프로퍼티 등 다양한 구성요소에 붙일 수 있다.

예를 들자면 `@Deprecated` 어노테이션이 있다.
자바의 Deprecated 어노테이션과 의미는 똑같다. 그러나 코틀린에서는 `replaceWith` 파라미터를 통해 대안을 제시할 수 있다.

```kotlin
@Deprecated("Use removeAt (index) instead.", ReplaceWith("removeAt(index)"))
fun remove(index: Int) { ... }
```

어노테이션에 인자를 넘길때는 일반 함수처럼 괄호안에 파라미터를 전달한다.
어노테이션의 파라미터에는 다음과 같은 값이 들어갈 수 있다.
- 원시타입의 값
- 문자열
- enum 클래스 참조
- 다른 어노테이션 클래스
- 위 요소들로 이뤄진 배열

그리고 파라미터를 지정하는 문법이 자바와 약간 다르다.

- 클래스를 어노테이션의 파라미터로 전달할 때는 클래스명 뒤에 `::class`를 클래스 이름 뒤에 넣어야한다.
- 다른 어노테이션을 인자로 전달할때는 인자로 들어가는 어노테이션의 이름 앞에 `@`를 넣지 않아야한다.
  위의 예재에서 `ReplaceWith`는 어노테이션이다. 따리서 앞에 `@`를 사용하지 않았다.

어노테이션 인자를 컴파일 시점에 알 수 있어야한다. 따라서 임의의 프로퍼티를 인자로 지정할 수 없다.
프로퍼티를 인자로 사용하려면 그 앞에 const 변경자를 붙여야 한다. 이는 컴파일러가 const가 붙은 프로퍼티를 컴파일 시점 상수로 취급한다.

## 어노테이션 선언




