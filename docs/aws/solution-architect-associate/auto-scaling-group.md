# Auto Scaling Group

## Question

한 회사는 EC2 인스턴스의 Auto Scaling 그룹에서 웹 애플리케이션을 호스팅했습니다.
IT 관리자는 더 높은 운영 비용을 유발할 수 있는 리소스의 과잉 공급에 대해 우려하고 있습니다.
Solutions Architect는 애플리케이션의 성능에 영향을 주지 않으면서 비용 효율적인 솔루션을 만들라는 지시를 받았습니다.

이 요구 사항을 충족하려면 어떤 동적 조정 정책을 사용해야 합니까?

![오토스케일링](https://user-images.githubusercontent.com/39899731/194977906-7fd401f2-2bb2-43f8-9fe1-54daf46e1c9d.png)

## Explain

`Auto Scaling Group`은 자동 스케일링 및 관리를 목적으로 논리적 그룹화되는 Amazon EC2 인스턴스 모음이 포함되어 있습니다.
자동 스케일링 그룹을 사용하면 `health check replacement` 및 스케일링 정책과 같은 Amazon EC2 자동 스케일링 기능을 사용할 수 있습니다.
자동 스케일링 그룹의 인스턴스 수와 자동 스케일링은 모두 Amazon EC2 자동 스케일링 서비스의 핵심 기능입니다.
자동 스케일링 그룹의 크기는 원하는 용량으로 설정한 인스턴스 수에 따라 다릅니다. 수동 또는 자동 스케일링을 사용하여 수요를 충족시키기 위해 크기를 조정할 수 있습니다.

단계 스케일링 정책(Step scaling policies)과 간단한 스케일링 정책(Simple scaling policies)은 사용할 수 있는 동적 스케일링 옵션 중 두 가지입니다.
둘 다 확장 정책에 대한 CloudWatch 알람을 만들어야 합니다.
둘 다 알람의 고점과 저점 임계값을 지정해야 합니다.
둘 다 인스턴스를 추가하거나 제거할지, 얼마나 많은 인스턴스를 정의하거나, 그룹을 정확한 크기로 설정해야 합니다.

이 두 타입의 차이는 단계 스케일링 정책으로 얻을 수 있는 "단계 조정"입니다.
"단계 조정"이 적용되고 자동 스케일링 그룹의 현재 용량을 늘리거나 감소시키면, 조정은 알람에 따라 설정 됩니다.

위의 Simple Scailing의 단점은 스케일링 활동이 시작된 후, 정책이나 추가 알람에 응답하기 전에 스케일링 활동이나 `health check replacement`가 완료되고 재사용 대기시간이 만료될때 까지 기다려야 한다는 것입니다.
재사용 대기시간은 이전 활동의 영향이 끝나기 전에 추가 스케일링 활동의 시작을 방지합니다.

그래서 `target tracking scaling policy`를 사용하면 특정 메트릭의 설정 값을 기반으로 그룹의 용량을 늘리거나 줄일 수 있습니다.
이 정책은 자원의 과도한 프로비저닝을 해결하는데 도움이 됩니다.
스케일링 정책은 메트릭을 지정된 목표값에 가깝게 유지하기 위해 필요에 따라 용량을 추가하거나 제거합니다.
메트릭을 목표값에 가깝게 유지하는것 외에도 목표 추적 스케일링 정책은 변화하는 로드 패턴에 적응 시킬수 있습니다.

따라서 올바른 답은 "Use target tracking scaling`입니다.

## 지문 분석

- Simple Scaling

  Simple Scaling은 재사용 대기시간이 끝나기 전에는 다음 스케일링을 실행할 수 없으므로 정답이 아닙니다.
  `Step Scaling`과 `Target Tracking Scaling`은 재사용 대기시간 없이 바로 다음 작업은 실행할 수 있습니다.

- Schedule Scaling

  스케쥴링 스케일링은 특정 시간마다 트래픽이 예상될때에 사용되는 스케일링 정책입니다.
  성능과 비용 최적화와는 크게 관련이 없습니다.

- Suspend and Resume Scaling

  이 유형은 스케일링 정책과 예약된 정책에 의해 트리거된 스케일링 활동을 일시중지하거나 재개하는데에 사용됩니다.
  이를 사용하는것은 정답이 아닙니다.
